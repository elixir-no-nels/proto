{"version":3,"file":"dataset-li-edit.js","sources":["../../../src/mvc/dataset/dataset-li-edit.js"],"names":["define","STATES","DATASET_LI","TAGS","ANNOTATIONS","faIconButton","BASE_MVC","_l","_super","DatasetListItemView","DatasetListItemEdit","extend","initialize","attributes","prototype","call","this","hasUser","purgeAllowed","tagsEditorShown","annotationEditorShown","_renderPrimaryActions","actions","model","get","NOT_VIEWABLE","concat","_renderEditButton","_renderDeleteButton","DISCARDED","purged","deleted","editBtnData","title","href","urls","edit","target","linkTarget","faIcon","classes","disabled","_","contains","UPLOAD","NEW","self","deletedAlready","isDeletedOrPurged","onclick","$el","find","trigger","_renderDetails","$details","state","OK","FAILED_METADATA","_renderTags","_renderAnnotation","_makeDbkeyEditLink","_setUpBehaviors","_renderSecondaryActions","ERROR","unshift","_renderErrButton","_renderRerunButton","_renderVisualizationsButton","report_error","creating_job","rerun_url","rerun","ev","preventDefault","require","ToolForm","form","View","job_id","deferred","execute","console","log","options","model_class","startsWith","galaxy_main","location","Galaxy","app","display","visualizations","hasData","isEmpty","isObject","warn","$visualizations","$","templates","attr","_addScratchBookFn","addBack","$links","click","frame","active","add","url","stopPropagation","$where","view","tagsEditor","TagsEditor","el","onshowFirstTime","render","onshow","onhide","$activator","appendTo","toggle","annotationEditor","AnnotationEditor","editableDbkey","replaceWith","events","clone","click .undelete-link","click .purge-link","click .edit-btn","click .delete-btn","click .rerun-btn","click .report-err-btn","click .visualization-btn","click .dbkey a","_clickUndeleteLink","undelete","_clickPurgeLink","purge","toString","modelString","warnings","failed_metadata","wrapTemplate","visualizationsTemplate"],"mappings":"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"}